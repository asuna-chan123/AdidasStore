@model IEnumerable<WebApplication6.Models.Category>

@* CategoryPartial should be a fragment when rendered inside _Layout.cshtml. *@

<!-- TEMPLATE CHO CAROUSEL -->
<template id="adidas-card-template">
    <div class="container">
        <h1 class="section-title"></h1>
        <div class="carousel-container">
            <button class="nav-button prev">‹</button>
            <button class="nav-button next">›</button>
            <div class="carousel-wrapper"></div>
        </div>
    </div>
</template>

<!-- LOADER -->
<div id="loader">
    <div class="wrap">
        <div class="adidas-container">
            <div class="adidas">
                <div class="stripe"></div>
                <div class="stripe"></div>
                <div class="stripe"></div>
            </div>
            <div class="text">adidas</div>
        </div>
    </div>
</div>

<!-- Ảnh đầu trang -->
<div class="banner-container full-bleed">
    <img src="https://brand.assets.adidas.com/image/upload/f_auto,q_auto:best,fl_lossy/if_w_gt_1920,w_1920/global_fw25_thug_club_originals_fw25_launch_hp_banner_hero_d_74432e1f4c.jpg" alt="Banner" class="banner-img" />

    <div class="banner-button">5
        <h2 class="banner-title" style="opacity: 0; width: 125px; font-size: 15px; background: #fff; color: #000; font-weight: bold; border: 2px solid #000;">
            LIGHT THE BAY
        </h2>
        <p class="banner-subtitle" style="opacity: 0; margin-bottom: 20px; font-size: 15px; background: #fff; color: #000; font-weight: bold; border: 2px solid #000; ">
            Sẵn sàng tăng tốc cùng bộ sưu tập adidas x Mercedes-<br />AMG PETRONAS F1 Team
        </p>

        <a href="@Url.Content("~/Product/Product-nam.html")" class="btn">Mua ngay →</a>
    </div>
</div>

<!-- Inline styles kept minimal; main CSS should come from Trangchu.css included by layout -->
<style>
    /* keep small page-specific overrides here if necessary, otherwise use Trangchu.css */
    /* fixed typo in media query if any left here */
</style>

<div class="container">
    <h1 class="section-title">Pickleball</h1>

    <div class="carousel-container">
        <button class="nav-button prev" id="prevBtn">‹</button>
        <button class="nav-button next" id="nextBtn">›</button>

        <div class="carousel-wrapper" id="carousel">
            <div class="card">
                <img src="https://assets.adidas.com/images/w_600,f_auto,q_auto/80f49e577dd349ab9aa71c5783282c66_9366/Vot_Pickleball_RX_Carbon_CTRL_DJen_JL4692_00_plp_standard.jpg" alt="Vot Pickleball" class="card-image" style="width: 340px; height: 350px;">
                <div class="card-content">
                    <h3 class="card-title">3.600.000₫</h3>
                    <p class="card-description">Vợt Pickleball Rx carbon ATTK 2025.</p>
                    <a href="@Url.Content("~/Product-detail/Product-nam.html")" class="card-button"">MUA SẮM NGAY</a>
                </div>
            </div>

            <div class="card">
                <img src="https://assets.adidas.com/images/w_600,f_auto,q_auto/e93a6eb6121c489db15eaedf49805648_9366/Vot_Pickleball_RX_Team_ATTK_DJen_JL4693_00_plp_standard.jpg" alt="Vot Pickleball" class="card-image" style="width: 340px; height: 350px;">
                <div class="card-content">
                    <h3 class="card-title">2.400.000₫</h3>
                    <p class="card-description">Vợt Pickleball RX Team ATTK</p>
                    <a class="card-button" href="#">Mua ngay</a>
                </div>
            </div>

            <div class="card">
                <img src="https://assets.adidas.com/images/w_600,f_auto,q_auto/a4b38c6bbb7d45c883b2cc7161e0bcec_9366/Chiec_Vot_Pickleball_Match_2025_DJen_JL4695_00_plp_standard.jpg" alt="Vot Pickleball" class="card-image" style="width: 340px; height: 350px;">
                <div class="card-content">
                    <h3 class="card-title">1.800.000₫</h3>
                    <p class="card-description">Chiếc Vợt Pickleball Match 2025</p>
                    <a class="card-button" href="#">Mua ngay</a>
                </div>
            </div>

            <div class="card">
                <img src="https://assets.adidas.com/images/w_600,f_auto,q_auto/5f1d205c643649d59a0f5df184a89416_9366/Vot_Pickleball_Rx_carbon_ATTK_2025_DJen_JL4691_00_plp_standard.jpg" alt="Vot Pickleball" class="card-image" style="width: 340px; height: 350px;">
                <div class="card-content">
                    <h3 class="card-title">3.600.000₫</h3>
                    <p class="card-description">Vợt Pickleball RX Carbon CTRL</p>
                    <button class="card-button coming-soon">Sắp ra mắt</button>
                </div>
            </div>

            <div class="card">
                <img src="https://assets.adidas.com/images/w_600,f_auto,q_auto/6fd3a086ae864409872e66ef00e7a153_9366/Vot_Pickleball_RX_Team_CTRL_DJen_JL4694_00_plp_standard.jpg" alt="Vot Pickleball" class="card-image" style="width: 340px; height: 350px;">
                <div class="card-content">
                    <h3 class="card-title">2.400.000₫</h3>
                    <p class="card-description">Vợt Pickleball RX Team CTRL</p>
                    <a class="card-button" href="#">Mua ngay</a>
                </div>
            </div>

            <div class="card">
                <img src="https://assets.adidas.com/images/w_600,f_auto,q_auto/fa44070950824ffab041c0674c069c9e_9366/Vot_Pickleball_Match_Light_2025_trang_JL4696_00_plp_standard.jpg" alt="Vot Pickleball" class="card-image" style="width: 340px; height: 350px;">
                <div class="card-content">
                    <h3 class="card-title">1.800.000₫</h3>
                    <p class="card-description">Vợt Pickleball Match Light 2025</p>
                    <a class="card-button" href="#">Mua ngay</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Carousel class and init remain the same; kept here for page fragment usage
    class Carousel {
        constructor() {
            this.carousel = document.getElementById('carousel');
            this.prevBtn = document.getElementById('prevBtn');
            this.nextBtn = document.getElementById('nextBtn');
            this.cards = document.querySelectorAll('.card');
            this.currentIndex = 0;
            this.cardWidth = 360; // card width + margin
            this.visibleCards = this.getVisibleCards();
            this.maxIndex = Math.max(0, this.cards.length - this.visibleCards);

            this.init();
        }

        getVisibleCards() {
            const containerWidth = document.querySelector('.carousel-container').offsetWidth;
            return Math.floor(containerWidth / this.cardWidth);
        }

        init() {
            this.prevBtn.addEventListener('click', () => this.prev());
            this.nextBtn.addEventListener('click', () => this.next());

            window.addEventListener('resize', () => {
                this.visibleCards = this.getVisibleCards();
                this.maxIndex = Math.max(0, this.cards.length - this.visibleCards);
                this.updateCarousel();
            });

            // touch support omitted for brevity in partial
            this.updateButtons();
        }

        prev() {
            if (this.currentIndex > 0) {
                this.currentIndex--;
                this.updateCarousel();
            }
        }

        next() {
            if (this.currentIndex < this.maxIndex) {
                this.currentIndex++;
                this.updateCarousel();
            }
        }

        updateCarousel() {
            const translateX = -this.currentIndex * this.cardWidth;
            this.carousel.style.transform = `translateX(${translateX}px)`;
            this.updateButtons();
        }

        updateButtons() {
            this.prevBtn.disabled = this.currentIndex === 0;
            this.nextBtn.disabled = this.currentIndex >= this.maxIndex;
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        new Carousel();

        document.querySelectorAll('.card-button').forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                button.style.transform = 'scale(0.95)';
                setTimeout(() => { button.style.transform = 'scale(1)'; }, 150);
                console.log('Navigating to product page...');
            });
        });
    });
</script>

<!-- Additional sections (carousels, petronas-section, etc.) are left unchanged and should be loaded as part of this partial -->
